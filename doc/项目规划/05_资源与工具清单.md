# Aiden-Lite 项目资源与工具清单

## 一、开发工具与环境

### 1.1 编程环境
- **Python 版本**: 3.10 或 3.11 (推荐 3.11.x)
- **包管理器**: pip + venv (或 conda)
- **虚拟环境**: venv
- **依赖文件**: requirements.txt

### 1.2 IDE 与编辑器
- **主要推荐**: Visual Studio Code (VS Code)
  - 扩展: Python、Pylance、Jupyter、Docker
  - 配置文件: .vscode/settings.json
  
- **备选**: PyCharm Community Edition
  - 自带 Python 支持
  - 集成调试器

### 1.3 版本控制
- **Git**: GitHub Desktop 或命令行
- **分支策略**: 
  - main (发布分支)
  - develop (开发分支)
  - feature/xxx (功能分支)
  - bugfix/xxx (修复分支)

### 1.4 文档编写
- **Markdown**: .md 文件
- **API 文档**: FastAPI 自动生成 (Swagger UI)
- **绘图**: Mermaid (流程图、架构图)
- **文档生成**: MkDocs (可选)

### 1.5 虚拟化与容器
- **Docker**: 容器化部署
- **Docker Compose**: 多容器编排

---

## 二、Python 依赖清单

### 2.1 Web 框架
```
fastapi==0.104.1          # Web 框架
uvicorn[standard]==0.24.0 # ASGI 服务器
pydantic==2.5.0           # 数据验证
pydantic-settings==2.1.0  # 配置管理
```

### 2.2 语音处理
```
# ASR (语音转文字)
faster-whisper==0.10.0    # OpenAI Whisper 本地推理
pyaudio==0.2.13           # 麦克风采集 (Windows 需要编译)
soundfile==0.12.1         # 音频文件读写
librosa==0.10.0           # 音频处理库
webrtcvad==4.3.1          # 语音活动检测

# TTS (文字转语音)
edge-tts==6.1.14          # 微软 Edge TTS (推荐)
pyttsx3==2.90             # 本地离线 TTS (备选)
```

### 2.3 人脸识别
```
face-recognition==1.3.5   # 人脸识别 (基于 dlib)
opencv-python==4.8.1.78   # 计算机视觉
opencv-contrib-python==4.8.1.78  # OpenCV 扩展
mediapipe==0.10.5         # Google 轻量级检测库
numpy==1.24.3             # 数值计算
pillow==10.1.0            # 图像处理
```

### 2.4 AI 与 LLM
```
openai==1.3.5             # OpenAI API
langchain==0.1.4          # LLM 应用框架
llama-index==0.9.3        # 向量化存储与检索
tiktoken==0.5.1           # Token 计数
```

### 2.5 网络通信
```
paho-mqtt==1.6.1          # MQTT 客户端
requests==2.31.0          # HTTP 请求
aiohttp==3.9.1            # 异步 HTTP
websocket-client==1.6.4   # WebSocket
```

### 2.6 数据存储
```
sqlalchemy==2.0.23        # ORM 框架
sqlite3                   # 内置数据库驱动
redis==5.0.1              # 缓存与消息队列 (可选)
python-dotenv==1.0.0      # 环境变量加载
```

### 2.7 日程与任务调度
```
python-dateutil==2.8.2    # 日期时间处理
pytz==2023.3              # 时区处理
schedule==1.2.0           # 轻量级任务调度
apscheduler==3.10.4       # 高级任务调度
```

### 2.8 日志与监控
```
loguru==0.7.2             # 强大的日志库
python-json-logger==2.0.7 # JSON 格式日志
sentry-sdk==1.39.2        # 错误追踪 (可选)
```

### 2.9 中文处理
```
jieba==0.42.1             # 中文分词
hanlp==2.1.0b71           # HanLP 中文处理
```

### 2.10 其他工具
```
pydantic-extra-types==2.3.0  # Pydantic 扩展类型
python-multipart==0.0.6   # 表单数据处理
passlib==1.7.4            # 密码加密 (可选)
cryptography==41.0.7      # 加密库
```

### 2.11 测试
```
pytest==7.4.3             # 测试框架
pytest-asyncio==0.21.1    # 异步测试
pytest-cov==4.1.0         # 代码覆盖率
pytest-mock==3.12.0       # Mock 支持
```

### 2.12 代码质量
```
black==23.12.0            # 代码格式化
flake8==6.1.0             # 代码检查
isort==5.13.2             # Import 排序
mypy==1.7.1               # 类型检查 (可选)
pylint==3.0.3             # 代码分析 (可选)
```

---

## 三、云服务与 API

### 3.1 大模型 API (必需选一个)

| 服务 | 特点 | 推荐指数 | 成本 |
|------|------|---------|------|
| **OpenAI GPT-4/3.5** | 功能强大、多模态 | ⭐⭐⭐⭐⭐ | 按 token 计费 |
| **Claude (Anthropic)** | 对话自然、更安全 | ⭐⭐⭐⭐⭐ | 按 token 计费 |
| **文心一言 (百度)** | 中文支持好 | ⭐⭐⭐⭐ | 按次/token 计费 |
| **通义千问 (阿里云)** | 中文支持好 | ⭐⭐⭐⭐ | 按 token 计费 |
| **讯飞星火** | 专业领域强 | ⭐⭐⭐ | 按使用量计费 |

**推荐**: OpenAI GPT-4 (最强能力) 或 Claude (最自然) 或 文心一言 (最便宜)

### 3.2 语音识别 ASR (可选，本地 Whisper 为主)

| 服务 | 特点 | 推荐指数 | 成本 |
|------|------|---------|------|
| **本地 Whisper** | 完全离线、零成本 | ⭐⭐⭐⭐⭐ | 免费 |
| **讯飞实时语音识别** | 低延迟、高精度 | ⭐⭐⭐⭐ | 按时长计费 |
| **阿里云语音识别** | 多语言支持 | ⭐⭐⭐⭐ | 按时长计费 |
| **百度语音识别** | 准确率高 | ⭐⭐⭐ | 按时长计费 |

**推荐**: 本地 Whisper (完全隐私) + 云服务备选

### 3.3 文字转语音 TTS (可选，edge-tts 为主)

| 服务 | 特点 | 推荐指数 | 成本 |
|------|------|---------|------|
| **Edge-TTS** | 免费、自然度高 | ⭐⭐⭐⭐⭐ | 免费 |
| **Google TTS** | 多语言、高质量 | ⭐⭐⭐⭐ | 按字符计费 |
| **阿里云语音合成** | 支持方言、情感 | ⭐⭐⭐⭐ | 按字符计费 |
| **讯飞 TTS** | 多语言、实时 | ⭐⭐⭐⭐ | 按字符计费 |

**推荐**: Edge-TTS (免费高质量) + 其他备选

### 3.4 人脸识别 (本地优先)

| 方案 | 特点 | 推荐指数 | 成本 |
|------|------|---------|------|
| **face_recognition** | 本地离线、开源 | ⭐⭐⭐⭐⭐ | 免费 |
| **MediaPipe** | Google 轻量级、准确 | ⭐⭐⭐⭐ | 免费 |
| **百度人脸识别** | 高精度、云端 | ⭐⭐⭐ | 按次计费 |
| **阿里云人脸识别** | 多功能、云端 | ⭐⭐⭐ | 按次计费 |

**推荐**: 本地 face_recognition (隐私) + MediaPipe (备选)

### 3.5 米家生态 API (可选)

- **小米开放平台**: https://open.home.mi.com
- **需要**: 开发者账号、设备授权
- **成本**: 免费

### 3.6 MQTT Broker (必需)

| 方案 | 特点 | 推荐指数 | 成本 |
|------|------|---------|------|
| **本地 Mosquitto** | 完全控制、离线 | ⭐⭐⭐⭐⭐ | 免费 |
| **EMQ Cloud** | 云托管、便捷 | ⭐⭐⭐ | 按使用量计费 |
| **HiveMQ** | 企业级、高可用 | ⭐⭐ | 商业版收费 |

**推荐**: 本地 Mosquitto (完全控制)

---

## 四、硬件需求

### 4.1 最低配置
- **CPU**: Intel i5 / AMD Ryzen 5 (2 核心)
- **RAM**: 8 GB
- **存储**: 50 GB (SSD 推荐)
- **GPU**: 无 (可选加速)
- **网络**: 1 Mbps 网络连接

### 4.2 推荐配置
- **CPU**: Intel i7 / AMD Ryzen 7 (4+ 核心)
- **RAM**: 16 GB
- **存储**: 100 GB SSD
- **GPU**: NVIDIA RTX 2070+ (加速推理)
- **网络**: 10 Mbps+ 稳定连接

### 4.3 外设设备
- **摄像头**: USB 或 IP 摄像头 (1080P+)
- **麦克风**: USB 麦克风或数组麦克风 (建议降噪)
- **扬声器**: USB 扬声器或嵌入式音箱
- **MQTT 设备**: 智能家居设备 (支持 MQTT)
- **小米设备**: 米家生态设备 (可选)

### 4.4 部署选项
- **本地 PC**: Windows 11 / Linux
- **小型主机**: NUC、树莓派 (需要优化)
- **Docker**: 任何支持 Docker 的设备

---

## 五、开源模型与数据集

### 5.1 语音识别模型
- **Whisper**: OpenAI 开源，支持多语言
  - 下载: https://github.com/openai/whisper
  - 模型大小: base (140M) / small (244M) / medium (769M)
  - 本地推理库: faster-whisper

### 5.2 人脸识别模型
- **dlib 人脸模型**: face_recognition 内置
- **MediaPipe 人脸检测**: 预置在 mediapipe 包
- **OpenFace**: 可选的深度学习模型

### 5.3 中文 NLP 模型
- **Jieba**: 中文分词
- **HanLP**: 完整中文处理
- **Hugging Face 模型**: 通用 NER、分类等

### 5.4 数据集 (可选)
- **LibriSpeech**: 语音识别数据集
- **CommonVoice**: 多语言语音数据
- **LFW**: 人脸识别基准数据集

---

## 六、部署资源

### 6.1 开发环境搭建脚本
```bash
# 创建虚拟环境
python -m venv venv

# 激活虚拟环境 (Windows)
venv\Scripts\activate

# 激活虚拟环境 (Linux/Mac)
source venv/bin/activate

# 安装依赖
pip install -r requirements.txt
```

### 6.2 Docker 部署
```bash
# 构建镜像
docker build -t aiden-lite:latest .

# 运行容器
docker run -d --name aiden-lite \
  -v /path/to/data:/app/data \
  -p 8000:8000 \
  aiden-lite:latest
```

### 6.3 systemd 服务 (Linux)
```ini
[Unit]
Description=Aiden-Lite AI Home Assistant
After=network.target

[Service]
Type=simple
User=pi
WorkingDirectory=/home/pi/aiden-lite
ExecStart=/home/pi/aiden-lite/venv/bin/python -m uvicorn src.main:app --host 0.0.0.0 --port 8000
Restart=always

[Install]
WantedBy=multi-user.target
```

---

## 七、第三方服务账号

### 7.1 必需申请
- [ ] OpenAI API Key (https://platform.openai.com/account/api-keys)
- [ ] 小米开放平台账号 (https://open.home.mi.com)

### 7.2 可选申请
- [ ] Claude API Key (https://console.anthropic.com)
- [ ] 百度文心一言 API Key
- [ ] 讯飞 API Key
- [ ] 阿里云服务账号

### 7.3 本地运行
- [ ] Mosquitto MQTT Broker 安装
- [ ] 可选: Redis 服务 (缓存)

---

## 八、学习资源

### 8.1 技术文档
- **FastAPI**: https://fastapi.tiangolo.com/
- **SQLAlchemy**: https://docs.sqlalchemy.org/
- **OpenAI API**: https://platform.openai.com/docs/
- **MQTT**: https://mqtt.org/
- **OpenCV**: https://docs.opencv.org/

### 8.2 GitHub 参考项目
- **LLaMA**: 开源大模型
- **Whisper**: 语音识别
- **MediaPipe**: 人脸/手势检测
- **Home Assistant**: 智能家居

### 8.3 视频教程
- FastAPI 教程
- Python 异步编程
- 深度学习基础
- MQTT 物联网

---

## 九、预算估算 (可选)

### 9.1 月度成本估计 (假设中等使用)
| 项目 | 成本 | 备注 |
|------|------|------|
| OpenAI API | $10-30 | 按使用量计费 |
| 语音识别 | $0 | 使用本地 Whisper |
| 文字转语音 | $0 | 使用免费 edge-tts |
| 云存储 | $0-5 | 可选 |
| **总计** | **$10-35** | - |

### 9.2 一次性成本
- 硬件投入: $0-2000 (取决于配置)
- 开发工具: $0 (都是免费)

---

## 十、时间表与里程碑

| 阶段 | 周数 | 主要交付物 |
|------|------|-----------|
| 基础设施 | 1-2 | 开发环境、项目框架 |
| AI 对话 | 3-10 | 可对话的 AI 系统 |
| 人脸识别 | 11-15 | 人脸识别 + 问候 |
| 日程管理 | 16-22 | 完整日程系统 |
| 设备联动 | 23-30 | MQTT + 米家集成 |
| 高级功能 | 31-36 | 优化与扩展 |
| **总计** | **40 周** | MVP 完成版本 |

---

## 十一、联系与支持

### 11.1 社区资源
- GitHub Issues: 问题跟踪
- 技术论坛: Stack Overflow、V2EX
- 微信/QQ 群: 交流讨论

### 11.2 参考项目
- 虾哥的小智 AI (功能参考)
- Home Assistant (设备联动参考)
- Rasa (对话框架参考)

